# RobBob Bootstrapper System

## Обзор

Система bootstrapper обеспечивает лёгкую установку и автоматическое обновление RobBob Launcher.

## Как это работает

1. **Маленький установщик (Bootstrapper)** - пользователь скачивает небольшой файл (~10-20 МБ)
2. **Автоматическая загрузка** - bootstrapper автоматически скачивает полную версию лаунчера
3. **Установка в AppData** - файлы устанавливаются в `%LOCALAPPDATA%\RobBob`
4. **Создание ярлыка** - автоматически создаётся ярлык на рабочем столе
5. **Автообновление** - при каждом запуске проверяются обновления

## Структура файлов

### После установки:
```
%LOCALAPPDATA%\
└── RobBob\
    ├── RobBob.exe           # Основное приложение
    ├── version.txt          # Текущая версия
    ├── resources\           # Ресурсы приложения
    └── ... другие файлы
```

### Рабочий стол:
```
Desktop\
└── RobBob Launcher.lnk   # Ярлык для запуска
```

## Настройка сервера

### 1. Файл version.json

Разместите на вашем сервере файл `version.json`:

```json
{
  "version": "1.0.0",
  "downloadUrl": "https://your-server.com/robbob/RobBob-App.zip"
}
```

### 2. ZIP архив приложения

Создайте ZIP архив основного приложения:
- Соберите основной лаунчер: `npm run build`
- Упакуйте содержимое в ZIP файл: `RobBob-App.zip`
- Структура ZIP:
  ```
  RobBob-App.zip
  ├── RobBob.exe
  ├── resources\
  └── ... все файлы из dist\
  ```

### 3. Обновите конфигурацию

В файле `bootstrapper/electron-bootstrapper/main.js` измените URL:

```javascript
const CONFIG = {
  versionUrl: 'https://your-server.com/robbob/version.json',
  appDownloadUrl: 'https://your-server.com/robbob/RobBob-App.zip',
  // ...
};
```

## Сборка Bootstrapper

1. Перейдите в директорию bootstrapper:
   ```bash
   cd bootstrapper/electron-bootstrapper
   ```

2. Установите зависимости:
   ```bash
   npm install
   ```

3. Соберите установщик:
   ```bash
   npm run build
   ```

4. Готовый установщик будет в `bootstrapper/electron-bootstrapper/dist/`

## Процесс обновления

1. Увеличьте версию в `version.json` на сервере
2. Загрузите новый ZIP архив на сервер
3. При следующем запуске bootstrapper автоматически скачает обновление

## Преимущества

- ✅ **Маленький размер** - пользователь скачивает только маленький bootstrapper
- ✅ **Автообновление** - не нужно вручную скачивать новые версии
- ✅ **Простая установка** - всё происходит автоматически
- ✅ **Ярлык на рабочем столе** - создаётся автоматически
- ✅ **Безопасное хранение** - файлы в AppData, не требуют прав администратора

## Troubleshooting

### Bootstrapper не может скачать файлы
- Проверьте доступность URL в CONFIG
- Убедитесь, что server отдаёт правильный CORS заголовок

### Не создаётся ярлык на рабочем столе
- Проверьте, что PowerShell не заблокирован политиками
- Ярлык создаётся только при первой установке или обновлении

### Приложение не запускается
- Проверьте, что ZIP архив содержит все необходимые файлы
- Убедитесь, что RobBob.exe находится в корне архива
